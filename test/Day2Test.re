open TestFramework;
open Library.Day2;

let input = Library.Util.getProblemInput(2);

describe("day 2", ({test}) => {
  test("general", ({expect}) => {
    expect.string(general("1,0,0,0,99")).toEqual("2,0,0,0,99");
    expect.string(general("2,0,0,0,99")).toEqual("4,0,0,0,99");
    expect.string(general("2,3,0,3,99")).toEqual("2,3,0,6,99");
  });

  test("a", ({expect}) => {
    expect.string(a(input)).toEqual(
      "4090701,12,2,2,1,1,2,3,1,3,4,3,1,5,0,3,2,13,1,60,1,19,10,64,2,10,23,256,1,27,6,258,1,13,31,263,1,13,35,268,1,39,10,272,2,43,13,1360,1,47,9,1363,2,51,13,6815,1,5,55,6816,2,59,9,20448,1,13,63,20453,2,13,67,102265,1,71,5,102266,2,75,13,511330,1,79,6,511332,1,83,5,511333,2,87,6,1022666,1,5,91,1022667,1,95,13,1022672,2,99,6,2045344,1,5,103,2045345,1,107,9,2045348,2,6,111,4090696,1,5,115,4090697,1,119,2,4090699,1,6,123,0,99,2,14,0,0",
    )
  });

  test("b", ({expect}) => {
    expect.int(b(input, 19690720)).toBe(6421)
  });
});